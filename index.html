<!DOCTYPE html>
<html lang="hi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Passport Photo Converter - Final Fixed</title>
<style>
body{font-family:system-ui,Segoe UI,Roboto,"Noto Sans",sans-serif;margin:20px;background:#f7fafc}
.card{background:white;padding:18px;border-radius:12px;max-width:820px;margin:0 auto;box-shadow:0 6px 18px rgba(0,0,0,0.08)}
h1{margin:0 0 8px;font-size:20px}
label{display:block;margin:10px 0 6px}
input,select,button{padding:8px;border-radius:8px;border:1px solid #d1d5db}
.row{display:flex;gap:12px;align-items:center}
canvas{background:#e6eef8;border-radius:6px;max-width:100%;border:1px dashed #cbd5e1;margin-top:10px}
.help{font-size:13px;color:#475569}
.controls{display:flex;gap:10px;flex-wrap:wrap;margin-top:12px}
</style>
</head>
<body>
<div class="card">
<h1>Passport Photo Converter - Final Fixed</h1>
<p class="help">Photo upload karein, background remove / resize / zoom karein aur PDF download karein.</p>

<label>Photo upload karein</label>
<input id="file" type="file" accept="image/*">

<div class="controls">
<div>
<label>Passport size (preset)</label>
<select id="size">
<option value="51x51">2x2 inch (51x51 mm)</option>
<option value="35x45">35x45 mm</option>
<option value="33x48">33x48 mm</option>
<option value="37x52">37x52 mm</option>
<option value="40x50">40x50 mm</option>
</select>
</div>
<div>
<label>DPI</label>
<input id="dpi" type="number" value="300" min="72" step="1" style="width:110px">
</div>
<div>
<label>Format</label>
<select id="format">
<option value="single">Single photo</option>
<option value="a4">A4 sheet multiple copies</option>
</select>
</div>
<div>
<label>Resize / Zoom</label>
<input id="zoom" type="range" min="0.8" max="1.5" value="1" step="0.01">
</div>
<div>
<label>Background</label>
<select id="bg">
<option value="keep">Original</option>
<option value="remove">Remove (API)</option>
<option value="white">White</option>
<option value="blue">Blue</option>
</select>
</div>
</div>

<div style="margin-top:12px">
<button id="convert">Convert & Download PDF</button>
<button id="reset" style="background:#fff;border:1px solid #e2e8f0">Reset</button>
</div>

<h3 style="margin-top:18px">Preview</h3>
<canvas id="preview" width="400" height="400"></canvas>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script>
// ===== Remove.bg API Key =====
const REMOVE_BG_API_KEY = "3w5gAgyJyRWPi48sFtg4krv3
"; // <--- apni key yahan paste karo

const presets = {
'51x51': {w:51,h:51},
'35x45': {w:35,h:45},
'33x48': {w:33,h:48},
'37x52': {w:37,h:52},
'40x50': {w:40,h:50}
};

const fileInput = document.getElementById('file');
const preview = document.getElementById('preview');
const ctx = preview.getContext('2d');
let l
